(this["webpackJsonpfacebook-page"]=this["webpackJsonpfacebook-page"]||[]).push([[0],{34:function(e,t,n){},46:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getPosts",(function(){return L})),n.d(r,"likePost",(function(){return P}));var o={};n.r(o),n.d(o,"getComments",(function(){return V})),n.d(o,"likeComment",(function(){return W})),n.d(o,"deleteComment",(function(){return Z})),n.d(o,"deleteReply",(function(){return $})),n.d(o,"writeComment",(function(){return ee})),n.d(o,"writeReply",(function(){return te}));var c={};n.r(c),n.d(c,"getPosts",(function(){return re}));var a={};n.r(a),n.d(a,"getComments",(function(){return oe})),n.d(a,"getCommentsByPost",(function(){return ce})),n.d(a,"getCommentsCount",(function(){return ae})),n.d(a,"getRepliesByPost",(function(){return ie}));var i={};n.r(i),n.d(i,"getUser",(function(){return ue}));var u=n(0),s=n.n(u),l=n(22),m=n.n(l),p=n(2),f=n(11),d=n(14),b=n(33),O=n(19),g={id:"sumin",name:"\uc774\uc218\ubbfc",profileImageUrl:"https://scontent-ssn1-1.xx.fbcdn.net/v/t31.0-8/20935107_126183028009063_1467195264240257468_o.jpg?_nc_cat=110&_nc_sid=09cbfe&_nc_ohc=H4pYEKc4mcYAX8I8T0q&_nc_oc=AQnA8IRwbfM5ixLlptPQ3O2sRHOukyqGwwTTEp3tTNCIArYyD0fbTk3dVjeAFBXSj8U&_nc_ht=scontent-ssn1-1.xx&oh=24630e746265220f870543bbc778638a&oe=5F452348"};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e}var j=n(16),E=n(8),v=n(1),k={0:{seq:0,writer:{id:"sumin",name:"\uc774\uc218\ubbfc",profileImageUrl:"https://scontent-ssn1-1.xx.fbcdn.net/v/t31.0-8/20935107_126183028009063_1467195264240257468_o.jpg?_nc_cat=110&_nc_sid=09cbfe&_nc_ohc=H4pYEKc4mcYAX8I8T0q&_nc_oc=AQnA8IRwbfM5ixLlptPQ3O2sRHOukyqGwwTTEp3tTNCIArYyD0fbTk3dVjeAFBXSj8U&_nc_ht=scontent-ssn1-1.xx&oh=24630e746265220f870543bbc778638a&oe=5F452348"},contents:"\ud074\ub85c\ubc84\ucd94\uc5bc\ud328\uc158",createAt:"2020-07-28",likes:3,comments:0,likesOfMe:!1},1:{seq:1,writer:{id:"hong",name:"\ud64d\uae38\ub3d9",profileImageUrl:"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2556DA38594B51FE36"},contents:"React, Mobx, Redux \ub97c \uc0ac\uc6a9\ud574 Facebook \ub313\uae00 \uad6c\ud604\ud558\uae30 (Facebook \uc6f9\uc0ac\uc774\ud2b8 \ucc38\uace0)",createAt:"2020-07-21",likes:1,comments:0,likesOfMe:!1}},w=[0,1];var y=Object(f.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LIKE_POST":var n=Object(v.a)({},e[t.postId]);return n.likesOfMe?(n.likes-=1,n.likesOfMe=!1):(n.likes+=1,n.likesOfMe=!0),Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,n));default:return e}},ids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_POSTS":return Object(j.a)(e);default:return e}}}),I={};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_COMMENT_LIST":return t.comments;case"GET_COMMENTS":return e[t.postId];case"ADD_COMMENT":var n=e[t.postId]?e[t.postId]:[],r=[].concat(Object(j.a)(n),[{seq:n.length,contents:t.contents,likes:0,likesOfMe:!1,writer:t.writer,replies:[],createAt:Date.now()}]);return Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,r));case"DELETE_COMMENT":var o=e[t.postId].filter((function(e){return e.seq!==t.commentId}));return Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,o));case"DELETE_REPLY":var c=e[t.postId].map((function(e,n){return e.seq==t.commentId?(e.replies=e.replies.filter((function(e){return e.seq!==t.replyId})),e):e}));return Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,c));case"LIKE_COMMENT":var a=e[t.postId].find((function(e){return e.seq==t.commentId}));!1===a.likesOfMe?(a.likes+=1,a.likesOfMe=!0):(a.likes-=1,a.likesOfMe=!1);var i=e[t.postId].map((function(e,n){return e.seq==t.commentId?a:e}));return Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,i));case"ADD_REPLY":var u=e[t.postId]?e[t.postId]:[],s=u.map((function(e,n){return e.seq==t.commentId?Object(v.a)(Object(v.a)({},e),{},{replies:[].concat(Object(j.a)(e.replies),[{postSeq:t.postId,commentSeq:e.seq,seq:e.replies.length,contents:t.contents,likes:0,likesOfMe:!1,writer:t.writer,replies:[],createAt:Date.now()}])}):e}));return Object(v.a)(Object(v.a)({},e),{},Object(E.a)({},t.postId,s));default:return e}}var S,_=n(36),q=Object(d.a)(),M=(S=q,Object(f.c)({comments:x,posts:y,router:Object(O.b)(S),user:h}));var T=n(37),C=n(38),F=n(43),A=n(42),D=n(5),N=(n(56),n(20)),R=n.n(N);function L(){return{type:"GET_POSTS"}}function P(e){return{type:"LIKE_POST",postId:e}}var U=n(9),J=n.n(U),Y=n(18);function z(){return(z=Object(Y.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=localStorage.getItem("comments")&&void 0!=localStorage.getItem("comments")||localStorage.setItem("comments",JSON.stringify(Q)),n=localStorage.getItem("comments"),e.abrupt("return",JSON.parse(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(Y.a)(J.a.mark((function e(t,n,r){var o,c,a,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.parse(localStorage.getItem("comments")),c=o[t]?o[t]:[],a=[].concat(Object(j.a)(c),[{seq:c.length,contents:n,likes:0,likesOfMe:!1,writer:r,replies:[],createAt:Date.now()}]),i=Object(v.a)(Object(v.a)({},o),{},Object(E.a)({},t,a)),e.abrupt("return",localStorage.setItem("comments",JSON.stringify(i)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(Y.a)(J.a.mark((function e(t,n){var r,o,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("comments")),o=r[t].filter((function(e){return e.seq!==n})),c=Object(v.a)(Object(v.a)({},r),{},Object(E.a)({},t,o)),e.abrupt("return",localStorage.setItem("comments",JSON.stringify(c)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(Y.a)(J.a.mark((function e(t,n){var r,o,c,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("comments")),!1===(o=r[t].find((function(e){return e.seq==n}))).likesOfMe?(o.likes+=1,o.likesOfMe=!0):(o.likes-=1,o.likesOfMe=!1),c=r[t].map((function(e,t){return e.seq==n?o:e})),a=Object(v.a)(Object(v.a)({},r),{},Object(E.a)({},t,c)),e.abrupt("return",localStorage.setItem("comments",JSON.stringify(a)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(Y.a)(J.a.mark((function e(t,n,r,o){var c,a,i,u;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.parse(localStorage.getItem("comments")),a=c[t]?c[t]:[],i=a.map((function(e,c){return e.seq==n?Object(v.a)(Object(v.a)({},e),{},{replies:[].concat(Object(j.a)(e.replies),[{postSeq:t,commentSeq:e.seq,seq:e.replies.length,contents:r,likes:0,likesOfMe:!1,writer:o,replies:[],createAt:Date.now()}])}):e})),u=Object(v.a)(Object(v.a)({},c),{},Object(E.a)({},t,i)),e.abrupt("return",localStorage.setItem("comments",JSON.stringify(u)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(Y.a)(J.a.mark((function e(t,n,r){var o,c,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=JSON.parse(localStorage.getItem("comments")),c=o[t].map((function(e,t){return e.seq==n?(e.replies=e.replies.filter((function(e){return e.seq!==r})),e):e})),a=Object(v.a)(Object(v.a)({},o),{},Object(E.a)({},t,c)),e.abrupt("return",localStorage.setItem("comments",JSON.stringify(a)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q={0:[{seq:0,writer:{id:"hong",name:"\ud64d\uae38\ub3d9",profileImageUrl:"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2556DA38594B51FE36"},contents:"React, Mobx, Redux \ub97c \uc0ac\uc6a9\ud574 Facebook \ub313\uae00 \uad6c\ud604\ud558\uae30 (Facebook \uc6f9\uc0ac\uc774\ud2b8 \ucc38\uace0)",createAt:"2020-07-29",likes:1,likesOfMe:!0,replies:[{seq:0,postSeq:0,commentSeq:0,writer:{id:"hong",name:"\ud64d\uae38\ub3d9",profileImageUrl:"https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F2556DA38594B51FE36"},contents:"React, Mobx, Redux\uc640 \uac19\uc740 Framework, Library\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\uc640 \uc124\uacc4 \uc758\uc758\ub97c \uc774\ud574\ud558\uace0 \uadf8\uc5d0 \ub9de\uac8c \ucf54\ub4dc\ub97c \uc791\uc131\ud560 \uc218 \uc788\ub294\uac00",createAt:"2020-07-30",likes:3,likesOfMe:!0}]}]},V=function(e){return function(t){(function(e){return z.apply(this,arguments)})(e).then((function(e){return t({type:"GET_COMMENT_LIST",comments:e})})).catch((function(e){return console.log(e)}))}},W=function(e,t){return function(n){(function(e,t){return G.apply(this,arguments)})(e,t).then((function(){return n({type:"LIKE_COMMENT",postId:e,commentId:t})})).catch((function(e){return console.log(e)}))}},Z=function(e,t){return function(n){(function(e,t){return X.apply(this,arguments)})(e,t).then((function(){return n({type:"DELETE_COMMENT",postId:e,commentId:t})})).catch((function(e){return console.log(e)}))}},$=function(e,t,n){return function(r){(function(e,t,n){return H.apply(this,arguments)})(e,t,n).then((function(){return r({type:"DELETE_REPLY",postId:e,commentId:t,replyId:n})})).catch((function(e){return console.log(e)}))}},ee=function(e,t,n){return function(r){(function(e,t,n){return B.apply(this,arguments)})(e,t,n).then((function(){return r({type:"ADD_COMMENT",contents:t,writer:n,postId:e})})).catch((function(e){return console.log(e)}))}},te=function(e,t,n,r){return function(o){(function(e,t,n,r){return K.apply(this,arguments)})(e,t,n,r).then((function(){return o({type:"ADD_REPLY",commentId:t,writer:r,contents:n,postId:e})})).catch((function(e){return console.log(e)}))}},ne=n(25),re=function(e){return e.posts},oe=function(e){return e.comments},ce=function(e){return function(t){return t.comments[e]||[]}},ae=function(e){return function(t){var n=t.comments[e];return n?n.reduce((function(e,t){return e+t.replies.length}),n.length):0}},ie=function(e){return function(t){return t.replies[e]||[]}},ue=function(e){return e.user},se=n(6);function le(){var e=Object(D.a)(["\n  margin-left: 24px;\n  input {\n    width: 100%;\n    padding: 10px;\n    background-color: #eeeeee;\n    border-radius: 15px;\n    border: 0;\n  }\n"]);return le=function(){return e},e}var me=se.a.div(le()),pe=function(e){var t=Object(p.d)(),n=e.postSeq,r=e.commentSeq,c=Object(u.useState)(""),a=Object(ne.a)(c,2),l=a[0],m=a[1],f=Object(p.e)(i.getUser),d=Object(u.useCallback)((function(e,n,r){t(o.writeReply(e,n,r,f))}),[f]);return s.a.createElement(me,null,s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!=l&&(d(n,r,l),m(""))}},s.a.createElement("input",{placeholder:"\ub313\uae00 \ub2ec\uae30",spellCheck:"false",value:l,onChange:function(e){return m(e.target.value)}})))};function fe(){var e=Object(D.a)(["\n  font-size: 13px;\n  font-weight: bold;\n  button{\n    background-color: transparent;\n    border: 0;\n    font-weight: bold;\n    &:last-child{\n      float: right;\n    }\n  }\n  margin-bottom: 12px;\n  span{\n    font-size: 13px;\n    color: gray;\n    margin-left: 6px;\n    &:last-child{\n      font-weight: normal;\n    }\n  }\n"]);return fe=function(){return e},e}function de(){var e=Object(D.a)(["\n    p{\n      &:first-child{\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n    }\n    width: 100%;\n    background-color: #eeeeee;\n    padding: 10px;\n    border-radius: 15px;\n    border: 0;\n  \n"]);return de=function(){return e},e}function be(){var e=Object(D.a)(["\n  margin-top: 10px;\n"]);return be=function(){return e},e}var Oe=se.a.li(be()),ge=se.a.div(de()),he=se.a.div(fe()),je=function(e){var t=e.reply,n=e.postSeq,r=t.createAt,c=t.writer,a=t.contents,u=t.seq,l=t.commentSeq,m=Object(p.d)(),f=Object(p.e)(i.getUser),d=R()(r).fromNow();return s.a.createElement(Oe,null,s.a.createElement(ge,null,s.a.createElement("p",null,c.name),s.a.createElement("p",null,a)),s.a.createElement(he,null,f.id==c.id&&s.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),m(o.deleteReply(n,l,u))}},"\uc0ad\uc81c"),s.a.createElement("span",null,d)))};function Ee(){var e=Object(D.a)(["\n  font-size: 13px;\n  font-weight: bold;\n  button{\n    background-color: transparent;\n    border: 0;\n    font-weight: bold;\n    &:last-child{\n      float: right;\n    }\n  }\n  margin-bottom: 12px;\n  span{\n    font-size: 13px;\n    color: gray;\n    margin-left: 6px;\n    &:last-child{\n      font-weight: normal;\n    }\n  }\n"]);return Ee=function(){return e},e}function ve(){var e=Object(D.a)(["\n    p{\n      &:first-child{\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n    }\n    width: 100%;\n    background-color: #eeeeee;\n    padding: 10px;\n    border-radius: 15px;\n    border: 0;\n  \n"]);return ve=function(){return e},e}function ke(){var e=Object(D.a)(["\n  padding-left: 24px;\n"]);return ke=function(){return e},e}function we(){var e=Object(D.a)(["\n  margin-top: 20px;\n"]);return we=function(){return e},e}var ye=se.a.li(we()),Ie=se.a.ul(ke()),xe=se.a.div(ve()),Se=se.a.div(Ee()),_e=function(e){var t=e.comment,n=e.postSeq,r=Object(p.d)(),c=Object(p.e)(i.getUser),a=t.createAt,u=t.writer,l=t.contents,m=t.replies,f=t.seq,d=t.likesOfMe,b=t.likes,O=R()(a).fromNow();return s.a.createElement(ye,null,s.a.createElement(xe,null,s.a.createElement("p",null,u.name),s.a.createElement("p",null,l)),s.a.createElement(Se,null,s.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),r(o.likeComment(n,f))},style:{color:d?"#0057e7":"black"}},"\uc88b\uc544\uc694 ",b," \uac1c"),s.a.createElement("span",null,"\ub313\uae00 ",m.length," \uac1c"),c.id==u.id&&s.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),r(o.deleteComment(n,f))}},"\uc0ad\uc81c"),s.a.createElement("span",null,O)),s.a.createElement(Ie,null,void 0!==m&&m.map((function(e){return s.a.createElement(je,{key:e.seq,reply:e,postSeq:n})}))))},qe=function(e){var t=e.postSeq,n=Object(p.e)(a.getCommentsByPost(t));return s.a.createElement("ul",null,n.map((function(e,n){return s.a.createElement(s.a.Fragment,{key:"comment-".concat(n)},s.a.createElement(_e,{key:e.seq,postSeq:t,comment:e}),s.a.createElement(pe,{postSeq:t,commentSeq:e.seq}))})))};function Me(){var e=Object(D.a)(["\n  input {\n    width: 100%;\n    background-color: #F0F2F5;\n    padding: 12px;\n    border-radius: 18px;\n    color: black;\n    font-weight: bold;\n    border: 0;\n  }\n"]);return Me=function(){return e},e}var Te=se.a.div(Me()),Ce=function(e){var t=Object(p.d)(),n=e.postSeq,r=(e.commentSeq,Object(u.useState)("")),c=Object(ne.a)(r,2),a=c[0],l=c[1],m=Object(p.e)(i.getUser),f=Object(u.useCallback)((function(e,n){t(o.writeComment(e,n,m))}),[m]);return s.a.createElement(Te,null,s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!=a&&(f(n,a),l(""))}},s.a.createElement("input",{placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694...",spellCheck:"false",value:a,onChange:function(e){return l(e.target.value)}})))};function Fe(){var e=Object(D.a)(["\n  background-color: white;\n  img{\n    &:first-child{\n      object-fit: cover;\n      width: 40px;\n      height: 41px;\n      border-radius: 20px;\n      margin: 0;\n      padding: 0;\n      float: left;\n      margin-right: 11px;\n    }\n    \n  }\n  span{\n      font-size: 15px;\n      font-weight: bold;\n      &:last-child{\n        font-size: 13px;\n        color: gray;\n        font-weight: normal;\n    }\n  }\n"]);return Fe=function(){return e},e}function Ae(){var e=Object(D.a)(["\n   p{\n      font-weight: bold;\n      font-size: 20px;\n      margin-top: 11px;\n      margin-bottom: 13px;\n  }\n  span{\n        font-size: 15px;\n        color: gray;\n        float: right;\n  }\n  button{\n    background-color: transparent;\n    border: 0;\n    font-weight: bold;\n    font-size: 15px;\n    span{\n      margin-left: 8px;\n    }\n  }\n  border-bottom: 1px solid #dddddd;\n  padding-bottom: 12px;\n"]);return Ae=function(){return e},e}function De(){var e=Object(D.a)(["\n  background-color: white;\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 22px;\n\n"]);return De=function(){return e},e}var Ne=se.a.div(De()),Re=se.a.div(Ae()),Le=se.a.div(Fe()),Pe=function(e){var t=e.post,n=Object(p.d)(),o=t.seq,c=t.createAt,i=t.writer,u=i.name,l=i.profileImageUrl,m=(i.id,t.contents),f=t.likes,d=t.likesOfMe,b=Object(p.e)(a.getCommentsCount(o)),O=R()(c).fromNow();return s.a.createElement(Ne,null,s.a.createElement("div",null,s.a.createElement(Le,null,s.a.createElement("img",{src:l,alt:u}),s.a.createElement("span",null," ",u," "),s.a.createElement("br",null),s.a.createElement("span",null," ",O)),s.a.createElement(Re,null,s.a.createElement("p",null,m),s.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),n(r.likePost(o))},style:{color:d?"#0057e7 ":"black"}},"\uc88b\uc544\uc694 ",f," \uac1c"),s.a.createElement("span",null,"\ub313\uae00 ",b," \uac1c"))),s.a.createElement(qe,{postSeq:o}),s.a.createElement(Ce,{postSeq:o}))},Ue=(n(34),function(){var e=Object(p.d)(),t=Object(p.e)(c.getPosts),n=Object(p.e)(i.getUser);Object(u.useEffect)((function(){e(r.getPosts()),e(o.getComments(n))}),[]);var a=Object(u.useMemo)((function(){return t.ids.map((function(e){return t.entities[e]}))}),[t.entities,t.ids]),l=Object(u.useMemo)((function(){return a.map((function(e){return s.a.createElement(Pe,{key:e.seq,post:e})}))}),[a]);return s.a.createElement("div",{className:"container"},l)}),Je=n(24),Ye=n(44);var ze=function(e){var t=e.component,n=Object(Ye.a)(e,["component"]);return Object(p.d)(),Object(u.useEffect)((function(){}),[]),s.a.createElement(Je.a,Object.assign({},n,{render:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(t,Object.assign({},e,n)))}}))},Be=function(e){Object(F.a)(n,e);var t=Object(A.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props.history;return s.a.createElement(O.a,{history:e},s.a.createElement(Je.c,null,s.a.createElement(ze,{path:"/",component:Ue})))}}]),n}(u.Component),Xe={store:Object(f.e)(M,Object(f.d)(Object(f.a)(_.a,Object(b.a)(q)),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),history:q},Ge=Xe.store,Ke=Xe.history;m.a.render(s.a.createElement(p.a,{store:Ge},s.a.createElement(Be,{history:Ke})),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.3e28cc21.chunk.js.map